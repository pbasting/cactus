<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>halapi: hal::ColumnIterator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">halapi
   </div>
   <div id="projectbrief">hierarchichalalignmentformatapi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehal.html">hal</a></li><li class="navelem"><a class="el" href="classhal_1_1_column_iterator.html">ColumnIterator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classhal_1_1_column_iterator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hal::ColumnIterator Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="hal_column_iterator_8h_source.html">halColumnIterator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9f056897bd65bb24ad7822a1f68a2f74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f056897bd65bb24ad7822a1f68a2f74"></a>
typedef std::vector<br class="typebreak"/>
&lt; hal::DNAIteratorConstPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>DNASet</b></td></tr>
<tr class="separator:a9f056897bd65bb24ad7822a1f68a2f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6f581110f35960296db7d9273c5814"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e6f581110f35960296db7d9273c5814"></a>
typedef std::map&lt; const <br class="typebreak"/>
<a class="el" href="classhal_1_1_sequence.html">hal::Sequence</a> *, DNASet <br class="typebreak"/>
*, SequenceLess &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ColumnMap</b></td></tr>
<tr class="separator:a0e6f581110f35960296db7d9273c5814"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc2671e626c49425ca6bf1141bb9742d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#afc2671e626c49425ca6bf1141bb9742d">toRight</a> () const =0</td></tr>
<tr class="separator:afc2671e626c49425ca6bf1141bb9742d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c47acb4782871f2ae6fdd010110f44"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#a69c47acb4782871f2ae6fdd010110f44">toSite</a> (hal_index_t columnIndex, hal_index_t lastIndex, bool clearCache=false) const =0</td></tr>
<tr class="separator:a69c47acb4782871f2ae6fdd010110f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1887c8b8643bc904bc59345c10c74a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#abb1887c8b8643bc904bc59345c10c74a">lastColumn</a> () const =0</td></tr>
<tr class="separator:abb1887c8b8643bc904bc59345c10c74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b6c86e0331a4905593f6539dfc3184"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classhal_1_1_genome.html">hal::Genome</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#a89b6c86e0331a4905593f6539dfc3184">getReferenceGenome</a> () const =0</td></tr>
<tr class="separator:a89b6c86e0331a4905593f6539dfc3184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a0851bc14ae359781ad41d4ce4b8ef"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classhal_1_1_sequence.html">hal::Sequence</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#a80a0851bc14ae359781ad41d4ce4b8ef">getReferenceSequence</a> () const =0</td></tr>
<tr class="separator:a80a0851bc14ae359781ad41d4ce4b8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc259ebd494fea7578dc7c97e2f2fa0e"><td class="memItemLeft" align="right" valign="top">virtual hal_index_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#abc259ebd494fea7578dc7c97e2f2fa0e">getReferenceSequencePosition</a> () const =0</td></tr>
<tr class="separator:abc259ebd494fea7578dc7c97e2f2fa0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad406982d9c1393c975ec214939b7d4ec"><td class="memItemLeft" align="right" valign="top">virtual const ColumnMap *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#ad406982d9c1393c975ec214939b7d4ec">getColumnMap</a> () const =0</td></tr>
<tr class="separator:ad406982d9c1393c975ec214939b7d4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee143ea0b9c2625fa3e5b84aa4db1113"><td class="memItemLeft" align="right" valign="top">virtual hal_index_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#aee143ea0b9c2625fa3e5b84aa4db1113">getArrayIndex</a> () const =0</td></tr>
<tr class="separator:aee143ea0b9c2625fa3e5b84aa4db1113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e871214398d40aa8ce6a980ab2960c7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#a9e871214398d40aa8ce6a980ab2960c7">defragment</a> () const =0</td></tr>
<tr class="separator:a9e871214398d40aa8ce6a980ab2960c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18305e6cc65e8adecfdfae2c5bc8cd86"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#a18305e6cc65e8adecfdfae2c5bc8cd86">isCanonicalOnRef</a> () const =0</td></tr>
<tr class="separator:a18305e6cc65e8adecfdfae2c5bc8cd86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bef44c9dfa715a9e114b6029b76b808"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhal_1_1_column_iterator.html#a5bef44c9dfa715a9e114b6029b76b808">print</a> (std::ostream &amp;os) const =0</td></tr>
<tr class="separator:a5bef44c9dfa715a9e114b6029b76b808"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a71f73d8d4ba684fe5ea0461c66811971"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71f73d8d4ba684fe5ea0461c66811971"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>counted_ptr&lt; ColumnIterator &gt;</b></td></tr>
<tr class="separator:a71f73d8d4ba684fe5ea0461c66811971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a60987f65754a92e8abf36c6784144"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49a60987f65754a92e8abf36c6784144"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>counted_ptr&lt; const ColumnIterator &gt;</b></td></tr>
<tr class="separator:a49a60987f65754a92e8abf36c6784144"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface Column iterator for allowing traditional maf-like (left-to-right) parsing of a hal alignment. Columns are iterated with respect to a specified reference genome. This isn't the most efficient way to explore the hal structure, which is designed for bottom-up and/or top-down traversal. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9e871214398d40aa8ce6a980ab2960c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hal::ColumnIterator::defragment </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>As we iterate along, we keep a column map entry for each sequence visited. This works out pretty well except for extreme cases (such as iterating over entire fly genomes where we can accumulate 10s of thousands of empty entries for all the different scaffolds when in truth we only need a handful at any given time). Under these circumstances, calling this method every 1M bases or so will help reduce memory as well as speed up queries on the column map. Perhaps this should eventually be built in and made transparent? </p>

</div>
</div>
<a class="anchor" id="aee143ea0b9c2625fa3e5b84aa4db1113"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual hal_index_t hal::ColumnIterator::getArrayIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the index of the column in the reference genome's array </p>

</div>
</div>
<a class="anchor" id="ad406982d9c1393c975ec214939b7d4ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const ColumnMap* hal::ColumnIterator::getColumnMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the column map </p>

</div>
</div>
<a class="anchor" id="a89b6c86e0331a4905593f6539dfc3184"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classhal_1_1_genome.html">hal::Genome</a>* hal::ColumnIterator::getReferenceGenome </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the reference genome for the column iterator </p>

</div>
</div>
<a class="anchor" id="a80a0851bc14ae359781ad41d4ce4b8ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classhal_1_1_sequence.html">hal::Sequence</a>* hal::ColumnIterator::getReferenceSequence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the reference sequence for the column iterator </p>

</div>
</div>
<a class="anchor" id="abc259ebd494fea7578dc7c97e2f2fa0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual hal_index_t hal::ColumnIterator::getReferenceSequencePosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the position in the reference sequence NOTE Seems to be returning the next position, rather than the current. Must go back and review but it is concerning. </p>

</div>
</div>
<a class="anchor" id="a18305e6cc65e8adecfdfae2c5bc8cd86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool hal::ColumnIterator::isCanonicalOnRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check whether the column iterator's left-most reference coordinate is within the iterator's range, ie is "canonical". This can be used to ensure that the same reference position does not get sampled by different iterators covering distinct ranges. If there are no duplications, then this function will always return true. </p>

</div>
</div>
<a class="anchor" id="abb1887c8b8643bc904bc59345c10c74a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool hal::ColumnIterator::lastColumn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use this method to bound iteration loops. When the column iterator is retrieved from the sequence or genome, the last column is specfied. <a class="el" href="classhal_1_1_column_iterator.html#afc2671e626c49425ca6bf1141bb9742d">toRight()</a> cna then be called until lastColumn is true. </p>

</div>
</div>
<a class="anchor" id="a5bef44c9dfa715a9e114b6029b76b808"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hal::ColumnIterator::print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print contents of column iterator </p>

</div>
</div>
<a class="anchor" id="afc2671e626c49425ca6bf1141bb9742d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hal::ColumnIterator::toRight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move column iterator one column to the right along reference genoem sequence </p>

</div>
</div>
<a class="anchor" id="a69c47acb4782871f2ae6fdd010110f44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void hal::ColumnIterator::toSite </td>
          <td>(</td>
          <td class="paramtype">hal_index_t&#160;</td>
          <td class="paramname"><em>columnIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hal_index_t&#160;</td>
          <td class="paramname"><em>lastIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clearCache</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move column iterator to arbitrary site in genome &ndash; effectively resetting the iterator (convenience function to avoid creation of new iterators in some cases). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">columnIndex</td><td>position of column in forward genome coordinates </td></tr>
    <tr><td class="paramname">lastIndex</td><td>last column position (for iteration). must be greater than columnIndex </td></tr>
    <tr><td class="paramname">clearCache</td><td>clear the cache that prevents columns from being visited twice. If not set to true, then its possible the iterator ends up not at "columnIndex" but at the next unvisited column. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>inc/<a class="el" href="hal_column_iterator_8h_source.html">halColumnIterator.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 5 2013 15:14:34 for halapi by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
